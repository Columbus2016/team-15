<!DOCTYPE html>
<html>
<head>
    <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="materialize/css/materialize.min.css"  media="screen,projection"/>
    <link type="text/css" rel="stylesheet" href="css/main.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Feeding America</title>
</head>

<body>
        <nav class="orange darken-2">
            <div class="nav-wrapper">
                <a href="index.html" class="brand-logo">Logo</a>
                <ul class="right hide-on-med-and-down">
                    <li><a href="">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="log.html">Log</a></li>
                    <li><a href="">Profile</a></li>
                </ul>
            </div>
        </nav>
    <div id="login">
        <script>
    function statusChangeCallback(response) {
    console.log('statusChangeCallback');
    console.log(response);

    if (response.status === 'connected') {

      testAPI();
    } else if (response.status === 'not_authorized') {
      document.getElementById('status').innerHTML = 'Please log ' +
        'into this app.';
    } else {
      document.getElementById('status').innerHTML = 'Please log ' +
        'into Facebook.';
    }
  }


  function checkLoginState() {
    FB.getLoginStatus(function(response) {
      statusChangeCallback(response);
    });
  }

  window.fbAsyncInit = function() {
  FB.init({
      appId: '1117047008402470',
    cookie     : true,
    xfbml      : true,
    version: 'v2.5'
  });

  FB.getLoginStatus(function(response) {
    statusChangeCallback(response);
  });

  };


  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/sdk.js";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));

  function testAPI() {
    FB.api('/me', function (response) {
        console.log('Good to see you, ' + response.email + '.');
    });
  }
        </script>

        <fb:login-button autologoutlink="true" scope="public_profile,email" onlogin="checkLoginState();">
        </fb:login-button>
        <div class="container">
            <div class="row">
                <div class="col s4">
                    User Name: <br />
                    <img class="profile-pic" src="img/PROFILE_PIC.jpg">
                </div>
                <div class="col s4">
                    <div class="row">
                        Your Points:
                    </div>
                    <div class="row">
                        <!-- <div class="btn personal" id="grabPointsbtn" data="hello">Grab Points</div> -->
                    </div>
                    <div class="row">
                        <div id="display"></div>
                    </div>
                </div>
                <div class="col s4">
                    <div class="row">
                        Team Points
                    </div>
                    <div class="row">
                        <!-- <div class="btn team" id="grabTeamPoints" data="team">Grab Points</div> -->
                    </div>
                    <div class="row">
                        <div id="display2"></div>
                    </div>
                </div>
            </div>

            <div class="row">

                <div class="col s6 ">
                    <div class="header">Individual Leaderboard</div>
                    <table class="bordered centered orange darken-2">
                        <thead>
                            <tr>
                                <th data-field="id">User Name</th>
                                <th data-field="name">Points</th>
                            </tr>
                        </thead>

                        <tbody id="leaderboard"></tbody>
                    </table>
                </div>
                <div class="col s6">
                    <div class="col s12">
                        <div class="header">Redeem:</div>
                        <input placeholder="Code" id="Submit" type="text" class="validate">

                        <div class="btn" id="SubmitButton">Submit</div>
                        <script>
document.getElementById('SubmitButton').onclick = function() {
  FB.ui({
    method: 'share',
    display: 'popup',
    href: 'https://developers.facebook.com/docs/sharing/reference/share-dialog',
    quote: "Look at all the points I earned!"
  }, function(response){});
}
                        </script>
                        <div class="header">Invite To Group:</div>
                        <input placeholder="Email" id="UserName" type="text" class="validate">
                        <div class="btn btn-margin">Invite</div>
                    </div>
                    <div class="col s12">
                        <div class="header">Team Leaderboard</div>
                        <table class="bordered centered orange darken-2">
                            <thead>
                                <tr>
                                    <th data-field="id">User Name</th>
                                    <th data-field="name">Points</th>
                                </tr>
                            </thead>

                            <tbody id="teamLeaderboard"></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <script type="text/javascript" src="materialize/js/materialize.min.js"></script>
        <script type="text/javascript" src="js/grabPoints.js"></script>
</body>
</html>